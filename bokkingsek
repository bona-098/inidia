onAppointmentUpdating: function (e) {
    console.log("🟠 Updating Triggered");

    const appointmentData = e.newData;
    const oldAppointmentData = e.oldData || {}; // Jika undefined, jadikan object kosong
    const currentStatus = oldAppointmentData.requestStatus;

    console.log("📝 New Appointment Data:", appointmentData);
    console.log("📄 Old Appointment Data:", oldAppointmentData);
    console.log("🔍 Current Status:", currentStatus);

    // **Cek apakah ini Auto Post**
    if (appointmentData.isAutoPost) {
        console.log("🟢 Auto Post Detected - Skipping Error Notification");
        return; // Jangan munculkan error jika auto post
    }

    // **Kalau oldData kosong (berarti auto post), langsung return tanpa validasi status**
    if (!Object.keys(oldAppointmentData).length) {
        console.log("🟢 Auto Post - No Old Data Found");
        return;
    }

    // **TAMPILKAN ERROR JIKA STATUS TIDAK BOLEH DIUBAH**
    if (![0, 2, "0", null].includes(currentStatus)) {
        console.error("❌ Update Rejected - Status:", currentStatus);

        DevExpress.ui.notify({
            type: "error",
            displayTime: 3000,
            contentTemplate: (e) => {
                e.append(`
                    <div style="white-space: pre-line;">
                        Action Rejected!\n
                        Tidak diizinkan melakukan perubahan saat ini!\n
                    </div>
                `);
            }
        });

        e.cancel = true;
    }
}
