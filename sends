{
    caption: 'Room',
    dataField: 'ghm_room_id',
    width: 200,
    lookup: {
        dataSource: async function(options) {
            try {
                const formInstance = $("#form-container").dxForm("instance");
                if (!formInstance) {
                    console.error("Form instance not found");
                    return [];
                }

                const formData = formInstance.option("formData") || {};
                const currentSector = formData.sector;
                if (!currentSector) {
                    console.warn("No sector selected");
                    return [];
                }

                const rooms = await listOption('/list-room', 'id', 'roomName');
                return rooms.filter(room => room.sector === currentSector);
            } catch (error) {
                console.error("DataSource Error:", error);
                DevExpress.ui.notify("Failed to load rooms", "error", 3000);
                return [];
            }
        },
        valueExpr: 'id',
        displayExpr: 'roomName',
    },
    validationRules: [{ type: "required" }],
}
