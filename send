function loadData() {
    console.log("üîÑ Fetching booking data from API...");

    // **Reset Data Source ke Null sebelum Fetch**
    schedulerInstance.option("dataSource", null);
    schedulerInstance.repaint();

    fetch('/ghm/dashboard', {
        headers: { 'X-Requested-With': 'XMLHttpRequest' } // Pastikan ini AJAX
    })
    .then(response => response.json())
    .then(response => {
        let data = response.booking; // Ambil hanya booking

        console.log("üîç Data Booking Loaded:", data);

        if (!Array.isArray(data) || data.length === 0) {
            console.warn("‚ö†Ô∏è Warning: Data booking kosong atau bukan array! Cek API backend.");
            return;
        }

        // **Masukkan Data Baru ke Scheduler**
        schedulerInstance.option("dataSource", data);
        schedulerInstance.repaint();
        console.log("‚úÖ Scheduler Updated with New Data!");
    })
    .catch(error => {
        console.error("‚ùå API Fetch Error:", error);
    });
}

// Tombol Refresh
$("#btn-refresh").dxButton({
    icon: "refresh",
    text: "Refresh",
    onClick: function() {
        loadData();
    }
});
